geom_bar()
### Giro de eje
barra +
coord_flip()
### Personalizar texto eje X
barra +
scale_x_discrete(labels = function(Govint_ictwss) str_wrap(Govint_ictwss,
width = 30))
### Giro de eje
barra +
coord_flip()
barra <- data %>%
filter(!is.na(Govint_ictwss)) %>%
ggplot(aes(x = Govint_ictwss)) +
geom_bar()
### Giro de eje
barra <- barra +
coord_flip()
### Personalizar texto eje X
barra <- barra +
scale_x_discrete(labels = function(Govint_ictwss) str_wrap(Govint_ictwss,
width = 30))
barra
rm(list=ls())
# Cargar paquetes ---------------------------------------------------------
#install.packages("pacman")
pacman::p_load(tidyverse,
sjmisc,
car,
sjlabelled)
# Cargar datos ------------------------------------------------------------
fdl <- readRDS(url("https://github.com/fabrica-datos-laborales/fdl-data/raw/main/output/data/fdl.rds"))
# Seleccionar variables ---------------------------------------------------
proc <- fdl %>%
select(iso3c,
year,
db_wdi,
'ud_ilo-stat',
mrw_oecd,
Govint_ictwss,
'hourearn_fem_isco08_total_ilo-stat',
women_empower_vdem_vdem) %>%
filter(!is.na(iso3c) & !is.na(year)) %>%
# Preparar datos ----------------------------------------------------------
mutate(Govint_ictwss = as_factor(Govint_ictwss))
frq(proc$Govint_ictwss)
proc$Govint_ictwss <- car::recode(proc$Govint_ictwss,
"6 = NA")
frq(proc$Govint_ictwss)
# Seleccionar variables ---------------------------------------------------
proc <- fdl %>%
select(iso3c,
year,
db_wdi,
'ud_ilo-stat',
mrw_oecd,
Govint_ictwss,
'hourearn_fem_isco08_total_ilo-stat',
women_empower_vdem_vdem) %>%
filter(!is.na(iso3c) & !is.na(year)) %>%
# Preparar datos ----------------------------------------------------------
mutate(Govint_ictwss = as_factor(Govint_ictwss))
proc$Govint_ictwss <- car::recode(proc$Govint_ictwss,
"'6' = NA")
frq(proc$Govint_ictwss)
# Seleccionar variables ---------------------------------------------------
proc <- fdl %>%
select(iso3c,
year,
db_wdi,
'ud_ilo-stat',
mrw_oecd,
Govint_ictwss,
'hourearn_fem_isco08_total_ilo-stat',
women_empower_vdem_vdem) %>%
filter(!is.na(iso3c) & !is.na(year)) %>%
# Preparar datos ----------------------------------------------------------
mutate(Govint_ictwss = as_factor(Govint_ictwss))
frq(proc$Govint_ictwss)
# Procesamiento de datos --------------------------------------------------
rm(list=ls())
# Cargar paquetes ---------------------------------------------------------
#install.packages("pacman")
pacman::p_load(tidyverse,
sjmisc,
car,
sjlabelled)
# Cargar datos ------------------------------------------------------------
fdl <- readRDS(url("https://github.com/fabrica-datos-laborales/fdl-data/raw/main/output/data/fdl.rds"))
# Explorar ----------------------------------------------------------------
dim(fdl)
find_var(fdl, "db_wdi") #Ease of doing business score (0 = lowest performance to 100 = best performance)
find_var(fdl, "ud_ilo-stat") #Trade union density rate (%)
find_var(fdl, "mrw_oecd") #Minimum relative to median wages of full-time workers
find_var(fdl, "Govint_ictwss") #Government intervention in wage bargaining
find_var(fdl, "hourearn_fem_isco08_total_ilo-stat") #Mean nominal hourly earning of women employees (ISCO08 classification)
find_var(fdl, "women_empower_vdem_vdem") #Women political empowerment index
# Seleccionar variables ---------------------------------------------------
proc <- fdl %>%
select(iso3c,
year,
db_wdi,
'ud_ilo-stat',
mrw_oecd,
Govint_ictwss,
'hourearn_fem_isco08_total_ilo-stat',
women_empower_vdem_vdem) %>%
filter(!is.na(iso3c) & !is.na(year)) %>%
# Preparar datos ----------------------------------------------------------
mutate(Govint_ictwss = car::recode(.$Govint_ictwss,
c("1 = 'No government intervention in wage bargaining';
2 = 'Government provides an institutional framework of consultation and information exchange';
3 = 'Government influences wage bargaining indirectly';
4 = 'The government participates directly in wage bargaining';
5 = 'The government imposes private sector wage settlements, places a ceiling on bargaining outcomes or suspends bargaining';
6 = NA"), as.factor = T,
levels = c('No government intervention in wage bargaining',
'Government provides an institutional framework of consultation and information exchange',
'Government influences wage bargaining indirectly',
'The government participates directly in wage bargaining',
'The government imposes private sector wage settlements, places a ceiling on bargaining outcomes or suspends bargaining')))
# Seleccionar variables ---------------------------------------------------
proc <- fdl %>%
select(iso3c,
year,
db_wdi,
'ud_ilo-stat',
mrw_oecd,
Govint_ictwss,
'hourearn_fem_isco08_total_ilo-stat',
women_empower_vdem_vdem) %>%
filter(!is.na(iso3c) & !is.na(year)) %>%
# Preparar datos ----------------------------------------------------------
mutate(Govint_ictwss = car::recode(as.numeric(.$Govint_ictwss),
c("1 = 'No government intervention in wage bargaining';
2 = 'Government provides an institutional framework of consultation and information exchange';
3 = 'Government influences wage bargaining indirectly';
4 = 'The government participates directly in wage bargaining';
5 = 'The government imposes private sector wage settlements, places a ceiling on bargaining outcomes or suspends bargaining';
6 = NA"), as.factor = T,
levels = c('No government intervention in wage bargaining',
'Government provides an institutional framework of consultation and information exchange',
'Government influences wage bargaining indirectly',
'The government participates directly in wage bargaining',
'The government imposes private sector wage settlements, places a ceiling on bargaining outcomes or suspends bargaining')))
proc$Govint_ictwss <- set_label(proc$Govint_ictwss, "Government intervention in wage bargaining")
frq(proc$Govint_ictwss)
# Exportar ----------------------------------------------------------------
saveRDS(proc, "output/proc.rds")
# Taller de visualización de datos laborales ------------------------------
rm(list = ls())
# Cargar paquetes ---------------------------------------------------------
#install.packages("pacman")
pacman::p_load(tidyverse,
sjPlot,
stringr)
# Cargar datos ------------------------------------------------------------
data <- readRDS("output/proc.rds")
# Graficar ----------------------------------------------------------------
## Gráfico de barras -------------------------------------------------------
### Básico
barra <- data %>%
filter(!is.na(Govint_ictwss)) %>%
ggplot(aes(x = Govint_ictwss)) +
geom_bar()
### Giro de eje
barra <- barra +
coord_flip()
### Personalizar texto eje X
barra <- barra +
scale_x_discrete(labels = function(Govint_ictwss) str_wrap(Govint_ictwss,
width = 30))
barra
## Gráfico de barras -------------------------------------------------------
### Básico
barra <- data %>%
group_by(iso3c) %>%
filter(!is.na(Govint_ictwss)) %>%
ggplot(aes(x = Govint_ictwss)) +
geom_bar()
### Giro de eje
barra <- barra +
coord_flip()
### Personalizar texto eje X
barra <- barra +
scale_x_discrete(labels = function(Govint_ictwss) str_wrap(Govint_ictwss,
width = 30))
barra
### Títulos
barra <- barra +
labs(title="Government intervention in wage bargaining",
x ="", y = "Total")
barra
### Títulos
barra <- barra +
labs(title="Government intervention in
wage bargaining",
x ="", y = "Total")
barra
### Títulos
barra <- barra +
labs(title="Government intervention in
wage bargaining",
x ="", y = "Total")
barra
### Títulos
barra <- barra +
labs(title="Government intervention in
wage bargaining",
x ="", y = "Total")
barra
### Títulos
barra <- barra +
labs(title="Government intervention in
wage bargaining",
x ="", y = "Total")
barra
barra <- data %>%
#group_by(iso3c) %>%
filter(!is.na(Govint_ictwss)) %>%
ggplot(aes(x = Govint_ictwss)) +
geom_bar()
### Giro de eje
barra <- barra +
coord_flip()
### Personalizar texto eje X
barra <- barra +
scale_x_discrete(labels = function(Govint_ictwss) str_wrap(Govint_ictwss,
width = 30))
### Títulos
barra <- barra +
labs(title="Government intervention in
wage bargaining",
x ="", y = "Total")
barra
barra <- data %>%
group_by(iso3c) %>%
filter(!is.na(Govint_ictwss)) %>%
ggplot(aes(x = Govint_ictwss)) +
geom_bar()
### Giro de eje
barra <- barra +
coord_flip()
### Personalizar texto eje X
barra <- barra +
scale_x_discrete(labels = function(Govint_ictwss) str_wrap(Govint_ictwss,
width = 30))
### Títulos
barra <- barra +
labs(title="Government intervention in
wage bargaining",
x ="", y = "Total")
barra
barra <- data %>%
group_by(iso3c) %>%
filter(!is.na(Govint_ictwss)) %>%
ggplot(aes(x = Govint_ictwss, color = "red")) +
geom_bar()
barra
### Giro de eje
barra <- barra +
coord_flip()
barra
### Personalizar texto eje X
barra <- barra +
scale_x_discrete(labels = function(Govint_ictwss) str_wrap(Govint_ictwss,
width = 30))
barra
### Títulos
barra <- barra +
labs(title="Government intervention in
wage bargaining",
x ="", y = "Total")
barra
barra <- data %>%
group_by(iso3c) %>%
filter(!is.na(Govint_ictwss)) %>%
ggplot(aes(x = Govint_ictwss)) +
geom_bar(fill = Govint_ictwss)
barra <- data %>%
group_by(iso3c) %>%
filter(!is.na(Govint_ictwss)) %>%
ggplot(aes(x = Govint_ictwss)) +
geom_bar(aes(fill = Govint_ictwss))
barra
### Giro de eje
barra <- barra +
coord_flip()
barra
### Personalizar texto eje X
barra <- barra +
scale_x_discrete(labels = function(Govint_ictwss) str_wrap(Govint_ictwss,
width = 30))
barra
### Títulos
barra <- barra +
labs(title="Government intervention in
wage bargaining",
x ="", y = "Total")
barra
barra <- data %>%
group_by(iso3c) %>%
filter(!is.na(Govint_ictwss)) %>%
ggplot(aes(x = Govint_ictwss)) +
geom_bar(aes(fill = "red"))
barra
### Giro de eje
barra <- barra +
coord_flip()
barra
### Personalizar texto eje X
barra <- barra +
scale_x_discrete(labels = function(Govint_ictwss) str_wrap(Govint_ictwss,
width = 30))
barra
### Títulos
barra <- barra +
labs(title="Government intervention in
wage bargaining",
x ="", y = "Total")
barra
barra <- data %>%
group_by(iso3c) %>%
filter(!is.na(Govint_ictwss)) %>%
ggplot(aes(x = Govint_ictwss)) +
geom_bar(fill = "red")
barra
### Giro de eje
barra <- barra +
coord_flip()
barra
### Personalizar texto eje X
barra <- barra +
scale_x_discrete(labels = function(Govint_ictwss) str_wrap(Govint_ictwss,
width = 30))
barra
### Títulos
barra <- barra +
labs(title="Government intervention in
wage bargaining",
x ="", y = "Total")
barra
### Tema
barra <- theme_classic()
barra
barra <- data %>%
group_by(iso3c) %>%
filter(!is.na(Govint_ictwss)) %>%
ggplot(aes(x = Govint_ictwss)) +
geom_bar(fill = "red")
barra
### Giro de eje
barra <- barra +
coord_flip()
barra
### Personalizar texto eje X
barra <- barra +
scale_x_discrete(labels = function(Govint_ictwss) str_wrap(Govint_ictwss,
width = 30))
barra
### Títulos
barra <- barra +
labs(title="Government intervention in
wage bargaining",
x ="", y = "Total")
barra
### Tema
barra + theme_classic()
barra
### Tema
barra + theme_sjplot()
### Tema
barra + theme_sjplot2()
### Tema
barra + theme_blank()
### Tema
barra + theme_538()
### Tema
barra + theme_bw()
barra <- data %>%
group_by(iso3c) %>%
filter(!is.na(Govint_ictwss)) %>%
ggplot(aes(x = Govint_ictwss)) +
geom_bar(color = "black", fill = "red")
barra
### Giro de eje
barra <- barra +
coord_flip()
barra
### Personalizar texto eje X
barra <- barra +
scale_x_discrete(labels = function(Govint_ictwss) str_wrap(Govint_ictwss,
width = 30))
barra
### Títulos
barra <- barra +
labs(title="Government intervention in
wage bargaining",
x ="", y = "Total")
barra
### Tema
barra + theme_bw()
barra
### Tema
barra + theme_minimal()
### Tema
barra + theme_linedraw()
### Tema
barra + theme_light()
save_plot("output/fig/barras.jpg", fig = last_plot())
names(data)
histo <- data %>%
group_by(iso3c, year) %>%
filter(!is.na(db_wdi))
View(histo)
# Histograma --------------------------------------------------------------
### Básico
histo <- data %>%
group_by(iso3c, year) %>%
filter(!is.na(db_wdi)) %>%
ggplot(aes(x = db_wdi)) +
geom_histogram(color = "black", fill = "red")
histo
histo <- data %>%
group_by(iso3c, year) %>%
filter(!is.na(db_wdi)) %>%
ggplot(aes(x = db_wdi)) +
geom_histogram(color = "black", fill = "red") +
labs(title="Government intervention in
wage bargaining",
x ="", y = "Total") +
theme_minimal()
histo
histo <- data %>%
group_by(iso3c, year) %>%
filter(!is.na(db_wdi)) %>%
ggplot(aes(x = db_wdi)) +
geom_histogram(color = "black", fill = "red") +
labs(title="Ease of Doing Business Index",
x ="", y = "Total") +
theme_minimal()
histo
names(data)
scatter <- data %>%
group_by(iso3c, year) %>%
filter(!is.na(db_wdi)) %>%
ggplot(aes(x = "ud_ilo-stat", y = mrw_oecd)) +
geom_point(color = "red")
scatter
scatter <- data %>%
group_by(iso3c, year) %>%
filter(!is.na("ud_ilo-stat") & !is.na(mrw_oecd)) %>%
ggplot(aes(x = "ud_ilo-stat", y = mrw_oecd)) +
geom_point(color = "red") +
labs(title="Ease of Doing Business Index",
x ="", y = "Total") +
theme_minimal()
scatter
scatter <- data %>%
group_by(iso3c, year) %>%
filter(!is.na("ud_ilo-stat") & !is.na(mrw_oecd)) %>%
ggplot(aes(x = "ud_ilo-stat", y = mrw_oecd)) +
geom_point(color = "red")
scatter <- data %>%
group_by(iso3c, year) %>%
filter(!is.na("ud_ilo-stat") & !is.na(mrw_oecd))
View(scatter)
# Dispersión --------------------------------------------------------------
### Básico
scatter <- data %>%
group_by(iso3c, year) %>%
#filter(!is.na("ud_ilo-stat") & !is.na(mrw_oecd)) %>%
ggplot(aes(x = "ud_ilo-stat", y = mrw_oecd)) +
geom_point(color = "red") +
labs(title="Ease of Doing Business Index",
x ="", y = "Total") +
theme_minimal()
scatter
# Dispersión --------------------------------------------------------------
### Básico
scatter <- data %>%
group_by(iso3c, year) %>%
filter(!is.na(women_empower_vdem_vdem) & !is.na(mrw_oecd)) %>%
ggplot(aes(x = women_empower_vdem_vdem, y = mrw_oecd)) +
geom_point(color = "red") +
labs(title="Ease of Doing Business Index",
x ="", y = "Total") +
theme_minimal()
scatter
# Dispersión --------------------------------------------------------------
### Básico
scatter <- data %>%
group_by(iso3c, year) %>%
filter(!is.na(women_empower_vdem_vdem) & !is.na(mrw_oecd)) %>%
ggplot(aes(x = women_empower_vdem_vdem, y = mrw_oecd)) +
geom_point(color = "red") +
labs(title="Relationship between Women Political Empowerment Index  and Minimum relative to median wages of full-time workers",
x ="Women Political Empowerment Index", y = "Minimum relative to median wages of full-time workers") +
theme_minimal()
scatter
# Dispersión --------------------------------------------------------------
### Básico
scatter <- data %>%
group_by(iso3c, year) %>%
filter(!is.na(women_empower_vdem_vdem) & !is.na(mrw_oecd)) %>%
ggplot(aes(x = women_empower_vdem_vdem, y = mrw_oecd)) +
geom_point(color = "red") +
geom_smooth(method = "lm") +
labs(title="Relationship between Women Political Empowerment Index  and Minimum relative to median wages of full-time workers",
x ="Women Political Empowerment Index", y = "Minimum relative to median wages of full-time workers") +
theme_minimal() +
scatter
